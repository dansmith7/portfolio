# Деплой на Vercel

## Почему не отображаются изменения из админки?

**Чаще всего:** на Vercel не заданы переменные окружения. Сайт не подключается к Supabase и показывает только fallback-данные (захардкоженные). Что бы вы ни меняли в админке — на публичном сайте это не появится.

---

## Что сделать

### 1. Добавить переменные в Vercel

1. Откройте [vercel.com](https://vercel.com) → ваш проект.
2. **Settings** → **Environment Variables**.
3. Добавьте:

| Name | Value |
|------|--------|
| `VITE_SUPABASE_URL` | `https://ваш-проект.supabase.co` |
| `VITE_SUPABASE_ANON_KEY` | anon public ключ из Supabase (Dashboard → Settings → API) |

4. **Save**.

### 2. Пересобрать и задеплоить

После добавления/изменения переменных нужно заново собрать проект:

- **Deployments** → у последнего деплоя **⋯** → **Redeploy** (галочку **Use existing Build Cache** лучше снять),  
  **или**
- Сделайте новый коммит и пуш в Git — Vercel задеплоит сам.

Без нового билда старые значения env (в т.ч. пустые) остаются в собранном приложении.

---

## Дополнительно

- **Кэш:** после сохранения в админке кэш `siteData` очищается (`clearCache`), публичные страницы при следующем заходе/обновлении подтянут свежие данные из Supabase.
- **Проверка:** откройте сайт на Vercel → F12 → **Console**. Ошибок типа `Supabase не настроен` быть не должно. В **Network** при загрузке главной/проектов видны запросы к `*.supabase.co`.
